{"version":3,"sources":["webpack:///./src/pages/projects/code-of-music/rhythm-sketch.tsx","webpack:///./src/utils/toneUtils.ts","webpack:///./src/components/defaultLayout.tsx","webpack:///./src/assets/favicon-16.png","webpack:///./src/assets/favicon-32.png","webpack:///./src/assets/favicon-48.png","webpack:///./src/components/defaultLayout.module.css","webpack:///./src/components/p5Canvas.tsx","webpack:///./src/components/p5Canvas.module.css"],"names":["Tone","createLoopWithPlayers","players","interval","onInterval","Loop","time","loaded","_Tone$Transport$posit","Transport","position","split","bar","beat","sixteenth","parseInt","trigger","playerName","get","start","window","require","state","isPlaying","tempo","loops","handlePlayToggle","stop","_iterator","_this","_isArray","Array","isArray","_i","Symbol","iterator","_ref","length","next","done","value","setState","_iterator2","_isArray2","_i2","_ref2","handleTempoChange","e","target","bpm","sketch","p","setup","background","draw","componentDidMount","this","timeSignature","kit","Players","kick","snare","hh","toMaster","drumLoop1","_ref3","six","drumLoop2","_ref4","push","componentWillUnmount","render","react_default","a","createElement","defaultLayout","gatsby_browser_entry","to","type","onClick","style","marginBottom","name","min","max","step","verticalAlign","margin","onChange","p5Canvas","width","height","React","PureComponent","Header","react__WEBPACK_IMPORTED_MODULE_4___default","className","styles","header","gatsby__WEBPACK_IMPORTED_MODULE_3__","META_TAGS","content","META_TAGS_WITH_REDIRECT","concat","http-equiv","LINK_TAGS","href","favicon16","rel","sizes","favicon32","favicon48","gtag","_len","arguments","args","_key","dataLayer","shouldRenderAnalytics","location","Date","_reach_router__WEBPACK_IMPORTED_MODULE_2__","isLegacyRoute","pathname","indexOf","childContentsWithHeader","Fragment","body","props","children","redirectNotice","react_helmet__WEBPACK_IMPORTED_MODULE_5___default","title","link","meta","async","src","hostname","Component","module","exports","P5Canvas","_React$Component","call","apply","containerEl","instance","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","_proto","prototype","_this2","_this$props","p5","oldSetup","createCanvas","autoFocus","focus","_this3","_this$props2","react__WEBPACK_IMPORTED_MODULE_2___default","processingSketch","ref","r","defaultProps"],"mappings":"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","file":"component---src-pages-projects-code-of-music-rhythm-sketch-tsx-f203561568dcac524b7a.js","sourcesContent":["import { Link } from \"gatsby\";\nimport p5 from \"p5\";\nimport React from \"react\";\nimport DefaultLayout from \"../../../components/defaultLayout\";\nimport { P5Canvas } from \"../../../components/p5Canvas\";\nimport { createLoopWithPlayers } from \"../../../utils/toneUtils\";\n\nlet Tone: any;\nif (typeof window !== \"undefined\") {\n    // tslint:disable-next-line\n    Tone = require(\"tone\");\n}\n\nconst CANVAS_WIDTH = 888;\nconst CANVAS_HEIGHT = 400;\n\nexport default class extends React.PureComponent<{}, { isPlaying: boolean; tempo: number }> {\n    public state = {\n        isPlaying: false,\n        tempo: 110,\n    };\n\n    private loops: any[] = [];\n\n    public componentDidMount() {\n        Tone.Transport.bpm.value = this.state.tempo;\n        Tone.Transport.timeSignature = [4, 4];\n\n        const kit = new Tone.Players({\n            kick: \"/sounds/kick.wav\",\n            snare: \"/sounds/snare.wav\",\n            hh: \"/sounds/electronic-hi-hat.ogg\",\n        }).toMaster();\n\n        const drumLoop1 = createLoopWithPlayers(\n            Tone,\n            kit,\n            \"16n\",\n            ({ bar, beat, sixteenth: six, trigger }) => {\n                if (beat === 0) {\n                    if (six === 0 || six === 1 || six === 2) {\n                        trigger(\"kick\");\n                    }\n                    if (six === 3) {\n                        trigger(\"snare\");\n                    }\n                } else if (beat === 1) {\n                    if (six === 0) {\n                        trigger(\"kick\");\n                    }\n                    if (six === 2) {\n                        trigger(\"snare\");\n                    }\n                } else if (beat === 2) {\n                    if (six === 0) {\n                        trigger(\"kick\");\n                    }\n                    if (six === 1) {\n                        if (bar > 0) {\n                            trigger(\"kick\");\n                        }\n                    }\n                    if (six === 2) {\n                        trigger(\"snare\");\n                    }\n                } else if (beat === 3) {\n                    if (six === 0) {\n                        trigger(\"snare\");\n                    }\n                }\n            },\n        );\n\n        const drumLoop2 = createLoopWithPlayers(Tone, kit, \"16n\", ({ bar, trigger }) => {\n            if (bar > 1) {\n                trigger(\"hh\");\n            }\n        });\n\n        this.loops.push(drumLoop1, drumLoop2);\n    }\n\n    public componentWillUnmount() {\n        Tone.Transport.stop();\n    }\n\n    public render() {\n        return (\n            <DefaultLayout>\n                <h3>Code of Music</h3>\n                <p>\n                    Week 2 rhythmic sketch &amp; composition (\n                    <Link to=\"/blog/itp/code-of-music/rhythm\">blog post</Link>)\n                </p>\n                <button type=\"button\" onClick={this.handlePlayToggle} style={{ marginBottom: 20 }}>\n                    {this.state.isPlaying ? \"Stop\" : \"Play\"}\n                </button>\n                <input\n                    type=\"range\"\n                    name=\"tempo\"\n                    min={80}\n                    max={160}\n                    value={this.state.tempo}\n                    step={5}\n                    style={{ verticalAlign: \"middle\", margin: \"0 15px\" }}\n                    onChange={this.handleTempoChange}\n                />\n                <P5Canvas sketch={this.sketch} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n            </DefaultLayout>\n        );\n    }\n\n    private handlePlayToggle = () => {\n        if (Tone.Transport.state === \"started\") {\n            Tone.Transport.stop();\n            for (const loop of this.loops) {\n                loop.stop();\n            }\n            this.setState({ isPlaying: false });\n        } else {\n            Tone.Transport.start();\n            for (const loop of this.loops) {\n                loop.start();\n            }\n            this.setState({ isPlaying: true });\n        }\n    };\n\n    private handleTempoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const tempo = parseInt(e.target.value, 10);\n        this.setState({ tempo });\n        Tone.Transport.bpm.value = tempo;\n    };\n\n    private sketch = (p: p5) => {\n        p.setup = () => {\n            p.background(this.state.tempo * 2);\n        };\n\n        p.draw = () => {\n            p.background(this.state.tempo * 2);\n        };\n    };\n}\n","export const createLoopWithPlayers = (\n    Tone: any,\n    players: any,\n    interval: string,\n    onInterval: (\n        args: {\n            time: number;\n            bar: number;\n            beat: number;\n            sixteenth: number;\n            trigger: (playerName: string) => void;\n        },\n    ) => void,\n) => {\n    return new Tone.Loop((time: number) => {\n        if (!players.loaded) {\n            return;\n        }\n\n        const [bar, beat, sixteenth] = Tone.Transport.position.split(\":\");\n        const trigger = (playerName: string) => players.get(playerName).start(time);\n        onInterval({\n            time,\n            bar: parseInt(bar, 10),\n            beat: parseInt(beat, 10),\n            sixteenth: parseInt(sixteenth, 10),\n            trigger,\n        });\n    }, interval);\n};\n","import { Location as LocationProvider } from \"@reach/router\";\nimport { Link } from \"gatsby\";\nimport React from \"react\";\nimport Helmet from \"react-helmet\";\nimport * as favicon16 from \"../assets/favicon-16.png\";\nimport * as favicon32 from \"../assets/favicon-32.png\";\nimport * as favicon48 from \"../assets/favicon-48.png\";\nimport styles from \"./defaultLayout.module.css\";\n\nconst Header = () => (\n    <div className={styles.header}>\n        <div>\n            <h1>\n                <Link to=\"/\">Adi Dahiya</Link>\n            </h1>\n        </div>\n    </div>\n);\n\nconst META_TAGS = [\n    { name: \"description\", content: \"Adi Dahiya's website\" },\n    { name: \"keywords\", content: \"portfolio, blog, ITP, photography, art, documentation\" },\n];\nconst META_TAGS_WITH_REDIRECT = [...META_TAGS, { \"http-equiv\": \"refresh\", content: \"0; URL='/'\" }];\n\nconst LINK_TAGS = [\n    {\n        href: favicon16,\n        rel: \"icon\",\n        sizes: \"16x16\",\n        type: \"image/png\",\n    },\n    {\n        href: favicon32,\n        rel: \"icon\",\n        sizes: \"32x32\",\n        type: \"image/png\",\n    },\n    {\n        href: favicon48,\n        rel: \"icon\",\n        sizes: \"48x48\",\n        type: \"image/png\",\n    },\n];\n\ndeclare global {\n    // tslint:disable-next-line interface-name\n    interface Window {\n        // google analytics\n        dataLayer: any;\n    }\n}\n\nexport default class extends React.Component {\n    public componentDidMount() {\n        if (this.shouldRenderAnalytics(window.location)) {\n            // google analytics snippet\n            window.dataLayer = window.dataLayer || [];\n            gtag(\"js\", new Date());\n            gtag(\"config\", \"UA-126153749-1\");\n        }\n\n        function gtag(...args: any[]) {\n            window.dataLayer.push(args);\n        }\n    }\n\n    public render() {\n        return (\n            <LocationProvider>\n                {({ location }) => {\n                    const isLegacyRoute = location.pathname.indexOf(\"/public\") === 0;\n                    const childContentsWithHeader = (\n                        <>\n                            <Header />\n                            <div className={styles.body}>{this.props.children}</div>\n                        </>\n                    );\n                    const redirectNotice = <p>Contents have moved... redirecting to root page</p>;\n\n                    return (\n                        <>\n                            <Helmet\n                                title=\"Adi Dahiya\"\n                                link={LINK_TAGS}\n                                meta={isLegacyRoute ? META_TAGS_WITH_REDIRECT : META_TAGS}\n                            />\n                            {isLegacyRoute ? redirectNotice : childContentsWithHeader}\n                            {this.shouldRenderAnalytics(location) && (\n                                <script\n                                    async={true}\n                                    src=\"https://www.googletagmanager.com/gtag/js?id=UA-126153749-1\"\n                                />\n                            )}\n                        </>\n                    );\n                }}\n            </LocationProvider>\n        );\n    }\n\n    private shouldRenderAnalytics(location: Location) {\n        return location.hostname !== \"localhost\";\n    }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpi/P//PwMpgImBRDBQGjrBAKsUC1bRe/fuvX//HqsUI2YorV69GqJaUFAwNDQUXcd/DABUhMZABuh+AJoNNBjCVlJSArqNgB+Afj179mxYWBjEJ0Cyo6MDn5NcXFyQuWlpaWgKUDTMnDlz1apVyCJ3794F2oAswjgM0hJAgAEAatqqYsvIfaQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOxJREFUeNrsVsENhCAQVHMN2AIt2AItaAlSArZgC5QgJWArWoKUwE1CcjF3BpaI92IfZiXuzu6MY6ydc9WT0VQPRwEoAP8GmKZJCJFU8kp6Wmvdtq21FldiSU13slIKrX0upaQO5cjRdd1xHEgYY/Qqqgb7vqOvZ4ZzDq4ybzCOozHG59u29X1PLCQBgBnwc0lXHoogL0Y+n+AWh9koupwXeuTZYF3Xj7xfS1CkjvtgGIaAs5ZluUXRr7ypUjep8p4Dfp7n+dYGgfF9RF3dhD9tMG14Phgw8r4GwNE9SnFYJERd/osKQAGo3gIMAFwJtpmrZ1aDAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVhJREFUeNrsmOGNgzAMhUl0C7ACK7ACK7ACK7ACK8AKjAAjwAgwAoxAnxoJVS1cY5tTOMn+UdFghecvfgnCbNsW3SlsdLNQQSpIBakgFaSCggia59kY0/f9XQQ1TZPnedu2F8y1iWNZliRJ9l/hbBcQAhjgieO4KAqgCk8oTdNpmhwqXAcmhEZOnoFrQIIgKSRhQVisruv2v0CVZVkwQvMzoGAfcajGcQxje7QzGvltsCxL0apJ8ILHWZuz/W8lm+EnHhci/0vcfoZB4n/LdjseCZ8f3sU4/yTh1YFFGYbhlwS2/38YNazrCmN/7RKkYVNwG8HfEqqqqq7rr2nYMAGSOnnEa2fPTKwa1f+W9+rjmYxMsv+peEhFM/xPI4ReRpOeuf3Q/yiA9mpLdfvr2e4TVP9bqttfz3afcLaH/68nhGPcx+1C/xv9xqiCVJAKUkEq6J8LeggwAO9wSX0n2nsFAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"defaultLayout-module--header--G28ik\",\"body\":\"defaultLayout-module--body--3jKPt\"};","import p5 from \"p5\";\nimport React from \"react\";\nimport styles from \"./p5Canvas.module.css\";\n\nif (typeof window !== \"undefined\") {\n    // tslint:disable no-var-requires\n    require(\"p5/lib/addons/p5.dom\");\n    require(\"p5/lib/addons/p5.sound\");\n}\n\nexport interface IP5Props {\n    /**\n     * Should the canvas element automatically get focus?\n     * @default true\n     */\n    autoFocus?: boolean;\n\n    /**\n     * Run your sketch here.\n     */\n    sketch: (p: p5) => void;\n\n    /** If both dimensions are set, a canvas will be created. */\n    width?: number;\n    height?: number;\n}\n\nexport class P5Canvas extends React.Component<IP5Props> {\n    public static defaultProps: IP5Props = {\n        autoFocus: true,\n        sketch: () => undefined,\n    };\n\n    private containerEl?: HTMLDivElement | null;\n    // @ts-ignore\n    private instance?: p5;\n\n    public componentDidMount() {\n        if (this.containerEl != null) {\n            const { width, height } = this.props;\n            this.instance = new p5((p: p5) => {\n                this.props.sketch(p);\n                if (width != null && height != null) {\n                    // inject some setup code\n                    const oldSetup = p.setup;\n                    p.setup = () => {\n                        p.createCanvas(width, height);\n                        oldSetup();\n                    };\n                }\n            }, this.containerEl);\n            if (this.props.autoFocus) {\n                this.containerEl.focus();\n            }\n        }\n    }\n\n    public render() {\n        const { width, height } = this.props;\n        return (\n            <div\n                className={styles.processingSketch}\n                ref={r => (this.containerEl = r)}\n                style={{ width, height }}\n            />\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"processingSketch\":\"p5Canvas-module--processingSketch--1RPUV\"};"],"sourceRoot":""}