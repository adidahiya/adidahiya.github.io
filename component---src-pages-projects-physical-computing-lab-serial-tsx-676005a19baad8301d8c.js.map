{"version":3,"sources":["webpack:///./src/pages/projects/physical-computing/lab-serial.tsx","webpack:///./src/components/defaultLayout.tsx","webpack:///./src/assets/favicon-16.png","webpack:///./src/assets/favicon-32.png","webpack:///./src/assets/favicon-48.png","webpack:///./src/components/defaultLayout.module.css","webpack:///./src/components/p5Canvas.tsx","webpack:///./src/components/p5Canvas.module.css","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/regenerator-runtime/runtime-module.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./static/lib/p5.serialport.js"],"names":["window","require","ARDUINO_PORT_NAME","state","isPlaying","pitch","serial","synth","hasStarted","p5","sketch","p","_this","setup","draw","clear","noStroke","handlePlayToggle","Tone","Transport","stop","close","setState","bindSerialEventHandlers","start","open","componentDidMount","this","SerialPort","Synth","oscillator","type","envelope","attack","decay","sustain","release","toMaster","Loop","time","_this2","triggerAttackRelease","render","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","_components_defaultLayout__WEBPACK_IMPORTED_MODULE_11__","gatsby__WEBPACK_IMPORTED_MODULE_7__","to","onClick","style","marginBottom","_components_p5Canvas__WEBPACK_IMPORTED_MODULE_12__","width","height","_this3","on","console","log","data","readLine","trim","matches","match","length","duration1","parseInt","mappedPitch","map","Frequency","toNote","err","React","PureComponent","Header","react__WEBPACK_IMPORTED_MODULE_4___default","className","styles","header","gatsby__WEBPACK_IMPORTED_MODULE_3__","META_TAGS","name","content","META_TAGS_WITH_REDIRECT","concat","http-equiv","LINK_TAGS","href","favicon16","rel","sizes","favicon32","favicon48","gtag","_len","arguments","args","Array","_key","dataLayer","push","shouldRenderAnalytics","location","Date","_reach_router__WEBPACK_IMPORTED_MODULE_2__","_ref","isLegacyRoute","pathname","indexOf","childContentsWithHeader","Fragment","body","props","children","redirectNotice","maybeAnalyticsScript","async","src","undefined","react_helmet__WEBPACK_IMPORTED_MODULE_5___default","title","link","meta","hostname","Component","module","exports","P5Canvas","_React$Component","call","apply","containerEl","instance","_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default","_proto","prototype","_this$props","oldSetup","createCanvas","autoFocus","focus","_this$props2","react__WEBPACK_IMPORTED_MODULE_2___default","processingSketch","ref","r","defaultProps","$export","__webpack_require__","S","isArray","global","Op","Object","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","wrap","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","GeneratorFunctionPrototype","Generator","create","GeneratorFunction","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","arg","__await","defineIteratorMethods","AsyncIterator","innerFn","outerFn","self","tryLocsList","iter","next","then","result","done","value","toString","keys","object","key","reverse","pop","Context","reset","skipTempReset","prev","sent","_sent","delegate","method","tryEntries","forEach","resetTryEntry","charAt","isNaN","slice","rootRecord","completion","rval","dispatchException","exception","context","handle","loc","caught","record","i","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","Error","abrupt","finallyEntry","complete","afterLoc","finish","catch","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","fn","obj","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","unwrapped","return","TypeError","info","pushTryEntry","locs","iteratorMethod","Function","$trim","defined","fails","spaces","space","ltrim","RegExp","rtrim","exporter","KEY","exec","ALIAS","exp","FORCE","P","F","string","TYPE","String","replace","g","hadRuntime","getOwnPropertyNames","oldRuntime","e","asyncGeneratorStep","gen","_next","_throw","error","_hostname","_serverport","bufferSize","serialBuffer","serialConnected","serialport","serialoptions","emitQueue","clientData","serialportList","serverport","socket","WebSocket","errorCallback","onopen","event","connectedCallback","emit","onmessage","messageObject","JSON","parse","openCallback","dataCallback","rawDataCallback","listCallback","registerCallback","closeCallback","onclose","onerror","readyState","OPEN","send","stringify","isConnected","list","cb","_serialport","_serialoptions","write","toWrite","read","shift","readChar","fromCharCode","readBytes","returnBuffer","readBytesUntil","charToFind","charCodeAt","index","readString","stringBuffer","join","readStringUntil","stringToFind","returnString","foundIndex","substr","available","last","lastChar","registerClient","onData","_callback","onOpen","onClose","onError","onList","onConnected","onRawData","onRegisterClient","_event"],"mappings":"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","file":"component---src-pages-projects-physical-computing-lab-serial-tsx-676005a19baad8301d8c.js","sourcesContent":["import { Link } from \"gatsby\";\nimport p5 from \"p5\";\nimport React from \"react\";\nimport Tone from \"tone\";\nimport DefaultLayout from \"../../../components/defaultLayout\";\nimport { P5Canvas } from \"../../../components/p5Canvas\";\n\nif (typeof window !== \"undefined\") {\n    require(\"../../../../static/lib/p5.serialport\");\n}\n\nconst CANVAS_WIDTH = 888;\nconst CANVAS_HEIGHT = 400;\nconst ARDUINO_PORT_NAME = \"/dev/cu.usbmodem1411\";\n\n// tslint:disable no-console\n\nexport default class extends React.PureComponent<\n    {},\n    { isPlaying: boolean; pitch: Tone.Types.Frequency }\n> {\n    public state = {\n        isPlaying: false,\n        pitch: \"C4\",\n    };\n\n    private serial: any;\n    private synth!: Tone.Synth;\n    private hasStarted = false;\n    private p5!: p5;\n\n    public async componentDidMount() {\n        this.serial = new p5.SerialPort();\n        this.synth = new Tone.Synth({\n            oscillator: {\n                // type: \"fmsine\",\n                // modulationType: \"triangle\",\n                type: \"sine\",\n            },\n            envelope: {\n                attack: 0.05,\n                decay: 0.6,\n                sustain: 1.0,\n                release: 2,\n            },\n        }).toMaster();\n        // this.synth.volume.value = -5;\n        // this.synth.sync();\n\n        // repeat quarter notes infinitely\n        const loop = new Tone.Loop((time: Tone.Types.Time) => {\n            this.synth.triggerAttackRelease(this.state.pitch, \"2n\", time);\n        }, \"4n\");\n        loop.start();\n    }\n\n    public render() {\n        return (\n            <DefaultLayout>\n                <h3>Physical Computing</h3>\n                <p>\n                    Week 6 serial communication labs (\n                    <Link to=\"/blog/itp/physical-computing/week-6-labs\">blog post</Link>)\n                </p>\n                <button type=\"button\" onClick={this.handlePlayToggle} style={{ marginBottom: 20 }}>\n                    {this.state.isPlaying ? \"Stop\" : \"Play\"}\n                </button>{\" \"}\n                <P5Canvas sketch={this.sketch} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n            </DefaultLayout>\n        );\n    }\n\n    private sketch = (p: p5) => {\n        this.p5 = p;\n\n        p.setup = () => {\n            // noop\n        };\n\n        p.draw = () => {\n            p.clear();\n            p.noStroke();\n        };\n    };\n\n    private bindSerialEventHandlers() {\n        this.serial.on(\"connected\", () => console.log(\"connected\"));\n        this.serial.on(\"open\", () => console.log(\"open\"));\n        this.serial.on(\"data\", () => {\n            // const data = Number(this.serial.readLine());\n            const data = this.serial.readLine();\n            // console.log(data);\n            if (data != null && data.trim() !== \"\") {\n                // console.log(data);\n                const matches = data.match(/(.*)\\,\\ (.*)/);\n                if (matches != null && matches.length === 3) {\n                    const duration1 = parseInt(matches[1], 10);\n                    const mappedPitch = this.p5.map(duration1, 0, 10, 200, 2000);\n                    this.setState({\n                        pitch: new Tone.Frequency(mappedPitch).toNote(),\n                    });\n                }\n            }\n        });\n        this.serial.on(\"error\", (err: any) => console.log(\"error\", err));\n        this.serial.on(\"close\", () => console.log(\"closed\"));\n    }\n\n    private handlePlayToggle = () => {\n        if (this.state.isPlaying) {\n            Tone.Transport.stop();\n            this.serial.close(ARDUINO_PORT_NAME);\n            this.setState({ isPlaying: false });\n        } else {\n            if (!this.hasStarted) {\n                this.bindSerialEventHandlers();\n                this.hasStarted = true;\n            }\n            Tone.Transport.start();\n            this.serial.open(ARDUINO_PORT_NAME);\n            this.setState({ isPlaying: true });\n        }\n    };\n}\n","import { Location as LocationProvider } from \"@reach/router\";\nimport { Link } from \"gatsby\";\nimport React from \"react\";\nimport Helmet from \"react-helmet\";\nimport * as favicon16 from \"../assets/favicon-16.png\";\nimport * as favicon32 from \"../assets/favicon-32.png\";\nimport * as favicon48 from \"../assets/favicon-48.png\";\nimport styles from \"./defaultLayout.module.css\";\n\nconst Header = () => (\n    <div className={styles.header}>\n        <div>\n            <h1>\n                <Link to=\"/\">adi.🍕</Link>\n            </h1>\n        </div>\n    </div>\n);\n\nconst META_TAGS = [\n    { name: \"description\", content: \"Adi Dahiya's website\" },\n    { name: \"keywords\", content: \"portfolio, blog, ITP, photography, art, documentation\" },\n];\nconst META_TAGS_WITH_REDIRECT = [...META_TAGS, { \"http-equiv\": \"refresh\", content: \"0; URL='/'\" }];\n\nconst LINK_TAGS = [\n    {\n        href: favicon16,\n        rel: \"icon\",\n        sizes: \"16x16\",\n        type: \"image/png\",\n    },\n    {\n        href: favicon32,\n        rel: \"icon\",\n        sizes: \"32x32\",\n        type: \"image/png\",\n    },\n    {\n        href: favicon48,\n        rel: \"icon\",\n        sizes: \"48x48\",\n        type: \"image/png\",\n    },\n];\n\ndeclare global {\n    // tslint:disable-next-line interface-name\n    interface Window {\n        // google analytics\n        dataLayer: any;\n    }\n}\n\nexport default class extends React.Component {\n    public componentDidMount() {\n        if (this.shouldRenderAnalytics(window.location)) {\n            // google analytics snippet\n            window.dataLayer = window.dataLayer || [];\n            gtag(\"js\", new Date());\n            gtag(\"config\", \"UA-126153749-1\");\n        }\n\n        function gtag(...args: any[]) {\n            window.dataLayer.push(args);\n        }\n    }\n\n    public render() {\n        return (\n            <LocationProvider>\n                {({ location }) => {\n                    const isLegacyRoute = location.pathname.indexOf(\"/public\") === 0;\n                    const childContentsWithHeader = (\n                        <>\n                            <Header />\n                            <div className={styles.body}>{this.props.children}</div>\n                        </>\n                    );\n                    const redirectNotice = <p>Contents have moved... redirecting to root page</p>;\n                    const maybeAnalyticsScript = this.shouldRenderAnalytics(location) ? (\n                        <script\n                            async={true}\n                            src=\"https://www.googletagmanager.com/gtag/js?id=UA-126153749-1\"\n                        />\n                    ) : (\n                        undefined\n                    );\n\n                    return (\n                        <>\n                            <Helmet\n                                title=\"Adi Dahiya\"\n                                link={LINK_TAGS}\n                                meta={isLegacyRoute ? META_TAGS_WITH_REDIRECT : META_TAGS}\n                            >\n                                {maybeAnalyticsScript}\n                            </Helmet>\n                            {isLegacyRoute ? redirectNotice : childContentsWithHeader}\n                        </>\n                    );\n                }}\n            </LocationProvider>\n        );\n    }\n\n    private shouldRenderAnalytics(location: Location) {\n        return location.hostname !== \"localhost\";\n    }\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpi/P//PwMpgImBRDBQGjrBAKsUC1bRe/fuvX//HqsUI2YorV69GqJaUFAwNDQUXcd/DABUhMZABuh+AJoNNBjCVlJSArqNgB+Afj179mxYWBjEJ0Cyo6MDn5NcXFyQuWlpaWgKUDTMnDlz1apVyCJ3794F2oAswjgM0hJAgAEAatqqYsvIfaQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOxJREFUeNrsVsENhCAQVHMN2AIt2AItaAlSArZgC5QgJWArWoKUwE1CcjF3BpaI92IfZiXuzu6MY6ydc9WT0VQPRwEoAP8GmKZJCJFU8kp6Wmvdtq21FldiSU13slIKrX0upaQO5cjRdd1xHEgYY/Qqqgb7vqOvZ4ZzDq4ybzCOozHG59u29X1PLCQBgBnwc0lXHoogL0Y+n+AWh9koupwXeuTZYF3Xj7xfS1CkjvtgGIaAs5ZluUXRr7ypUjep8p4Dfp7n+dYGgfF9RF3dhD9tMG14Phgw8r4GwNE9SnFYJERd/osKQAGo3gIMAFwJtpmrZ1aDAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVhJREFUeNrsmOGNgzAMhUl0C7ACK7ACK7ACK7ACK8AKjAAjwAgwAoxAnxoJVS1cY5tTOMn+UdFghecvfgnCbNsW3SlsdLNQQSpIBakgFaSCggia59kY0/f9XQQ1TZPnedu2F8y1iWNZliRJ9l/hbBcQAhjgieO4KAqgCk8oTdNpmhwqXAcmhEZOnoFrQIIgKSRhQVisruv2v0CVZVkwQvMzoGAfcajGcQxje7QzGvltsCxL0apJ8ILHWZuz/W8lm+EnHhci/0vcfoZB4n/LdjseCZ8f3sU4/yTh1YFFGYbhlwS2/38YNazrCmN/7RKkYVNwG8HfEqqqqq7rr2nYMAGSOnnEa2fPTKwa1f+W9+rjmYxMsv+peEhFM/xPI4ReRpOeuf3Q/yiA9mpLdfvr2e4TVP9bqttfz3afcLaH/68nhGPcx+1C/xv9xqiCVJAKUkEq6J8LeggwAO9wSX0n2nsFAAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"defaultLayout-module--header--G28ik\",\"body\":\"defaultLayout-module--body--3jKPt\"};","import p5 from \"p5\";\nimport React from \"react\";\nimport styles from \"./p5Canvas.module.css\";\n\nif (typeof window !== \"undefined\") {\n    require(\"p5/lib/addons/p5.dom\");\n    require(\"p5/lib/addons/p5.sound\");\n}\n\nexport interface IP5Props {\n    /**\n     * Should the canvas element automatically get focus?\n     * @default true\n     */\n    autoFocus?: boolean;\n\n    /**\n     * Run your sketch here.\n     */\n    sketch: (p: p5) => void;\n\n    /** If both dimensions are set, a canvas will be created. */\n    width?: number;\n    height?: number;\n}\n\nexport class P5Canvas extends React.Component<IP5Props> {\n    public static defaultProps: IP5Props = {\n        autoFocus: true,\n        sketch: () => undefined,\n    };\n\n    private containerEl?: HTMLDivElement | null;\n    // @ts-ignore\n    private instance?: p5;\n\n    public componentDidMount() {\n        if (this.containerEl != null) {\n            const { width, height } = this.props;\n            this.instance = new p5((p: p5) => {\n                this.props.sketch(p);\n                if (width != null && height != null) {\n                    // inject some setup code\n                    const oldSetup = p.setup;\n                    p.setup = () => {\n                        p.createCanvas(width, height);\n                        oldSetup();\n                    };\n                }\n            }, this.containerEl);\n            if (this.props.autoFocus) {\n                this.containerEl.focus();\n            }\n        }\n    }\n\n    public render() {\n        const { width, height } = this.props;\n        return (\n            <div\n                className={styles.processingSketch}\n                ref={r => (this.containerEl = r)}\n                style={{ width, height }}\n            />\n        );\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"processingSketch\":\"p5Canvas-module--processingSketch--1RPUV\"};","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","/*! p5.serialport.js v0.0.1 2015-07-23 */\n/**\n * @module p5.serialport\n * @submodule p5.serialport\n * @for p5.serialport\n * @main\n */\n/**\n *  p5.serialport\n *  Shawn Van Every (Shawn.Van.Every@nyu.edu)\n *  ITP/NYU\n *  LGPL\n *\n *  https://github.com/vanevery/p5.serialport\n *\n *  Modified by Adi Dahiya (adi.dahiya14@gmail.com)\n */\n\n const p5 = require(\"p5\");\n\n// =============================================================================\n  //                         p5.SerialPort\n  // =============================================================================\n\n\n/**\n * Base class for a serial port. Creates an instance of the serial library and prints \"hostname\":\"serverPort\" in the console.\n *\n * @class p5.SerialPort\n * @constructor\n * @param {String} [hostname] Name of the host. Defaults to 'localhost'.\n * @param {Number} [serverPort] Port number. Defaults to 8081.\n * @example\n * \tvar portName = '/dev/cu.usbmodem1411'; //enter your portName\n *\n *\tfunction setup() {\n *\t\t createCanvas(400, 300);\n  *\t\t serial = new p5.SerialPort()\n  *\t\t serial.open(portName);\n  *\t}\n  */\np5.SerialPort = function(_hostname, _serverport) {\n  var self = this;\n  this.bufferSize = 1; // How much to buffer before sending data event\n  this.serialBuffer = [];\n  //this.maxBufferSize = 1024;\n  this.serialConnected = false;\n  this.serialport = null;\n  this.serialoptions = null;\n  this.emitQueue = [];\n  this.clientData = {};\n  this.serialportList = [];\n\n  if (typeof _hostname === 'string') {\n    this.hostname = _hostname;\n  } else {\n    this.hostname = \"localhost\";\n  }\n\n  if (typeof _serverport === 'number') {\n    this.serverport = _serverport;\n  } else {\n    this.serverport = 8081;\n  }\n\n  try {\n    this.socket = new WebSocket(\"ws://\" + this.hostname + \":\" + this.serverport);\n    console.log((\"ws://\" + this.hostname + \":\" + this.serverport));\n  } catch (err) {\n    if (typeof self.errorCallback !== \"undefined\") {\n      self.errorCallback(\"Couldn't connect to the server, is it running?\");\n    }\n  }\n\n  this.socket.onopen = function(event) {\n    console.log('opened socket');\n    this.serialConnected = true;\n\n    if (typeof self.connectedCallback !== \"undefined\") {\n      self.connectedCallback();\n    }\n\n    if (self.emitQueue.length > 0) {\n      for (var i = 0; i < self.emitQueue.length; i ++){\n        self.emit(self.emitQueue[i]);\n      }\n      self.emitQueue = [];\n    }\n  };\n\n  this.socket.onmessage = function(event) {\n    var messageObject = JSON.parse(event.data);\n    // MESSAGE ROUTING\n    if (typeof messageObject.method !== \"undefined\") {\n      if (messageObject.method === 'echo') {\n      } else if (messageObject.method === \"openserial\") {\n        if (typeof self.openCallback !== \"undefined\") {\n          self.openCallback();\n        }\n      } else if (messageObject.method === \"data\") {\n        // Add to buffer, assuming this comes in byte by byte\n        self.serialBuffer.push(messageObject.data);\n        if (typeof self.dataCallback !== \"undefined\") {\n          // Hand it to sketch\n          if (self.serialBuffer.length >= self.bufferSize) {\n            self.dataCallback();\n          }\n        }\n        if (typeof self.rawDataCallback !== \"undefined\") {\n          self.rawDataCallback(messageObject.data);\n        }\n      } else if (messageObject.method === 'list') {\n        self.serialportList = messageObject.data;\n        if (typeof self.listCallback !== \"undefined\") {\n          self.listCallback(messageObject.data);\n        }\n      } else if (messageObject.method === 'registerClient') {\n        self.clientData = messageObject.data;\n        if (typeof self.registerCallback !== \"undefined\") {\n          self.registerCallback(messageObject.data);\n        }\n      } else if (messageObject.method === \"close\") {\n        if (typeof self.closeCallback !== \"undefined\") {\n          self.closeCallback();\n        }\n      } else if (messageObject.method === \"write\") {\n        // Success Callback?\n      } else if (messageObject.method === \"error\") {\n        //console.log(messageObject.data);\n        if (typeof self.errorCallback !== \"undefined\") {\n          self.errorCallback(messageObject.data);\n        }\n      } else {\n        // Got message from server without known method\n        console.log(\"Unknown Method: \" + messageObject);\n      }\n    } else {\n      console.log(\"Method Undefined: \" + messageObject);\n    }\n  };\n\n  this.socket.onclose = function(event) {\n    if (typeof self.closeCallback !== \"undefined\") {\n      self.closeCallback();\n    }\n  };\n\n  this.socket.onerror = function(event) {\n    if (typeof self.errorCallback !== \"undefined\") {\n      self.errorCallback();\n    }\n  };\n};\n\n/**\n *\n * @method emit\n * @private\n * @return\n * @example\n *\n */\np5.SerialPort.prototype.emit = function(data) {\n  if (this.socket.readyState === WebSocket.OPEN) {\n    this.socket.send(JSON.stringify(data));\n  } else {\n    this.emitQueue.push(data);\n  }\n};\n\n/**\n * Tells you whether p5 is connected to the serial port.\n *\n * @method isConnected\n * @return {Boolean} true or false\n * @example\n * \t\tvar serial; // variable to hold an instance of the serialport library\n * \t\tvar portName = '/dev/cu.usbmodem1411';\n *\n * \t\tfunction setup() {\n * \t\t\tcreateCanvas(400, 300);\n *\t \t\tserial = new p5.SerialPort();\n*\t \t\tserial.open(portName);\n*\t \t\tprintln(serial.isConnected());\n* \t\t}\n*/\np5.SerialPort.prototype.isConnected = function() {\n  if (this.serialConnected) { return true; }\n  else { return false; }\n};\n\n/**\n * Lists serial ports available to the server.\n * Synchronously returns cached list, asynchronously returns updated list via callback.\n * Must be called within the p5 setup() function.\n * Doesn't work with the p5 editor's \"Run in Browser\" mode.\n *\n * @method list\n * @return {Array} array of available serial ports\n * @example\n * \t\tfunction setup() {\n * \t\tcreateCanvas(windowWidth, windowHeight);\n * \t\tserial = new p5.SerialPort();\n * \t\tserial.list();\n * \t\tserial.open(\"/dev/cu.usbmodem1411\");\n * \t\t}\n *\n * For full example: <a href=\"https://itp.nyu.edu/physcomp/labs/labs-serial-communication/two-way-duplex-serial-communication-using-p5js/\">Link</a>\n * @example\n * \t\tfunction printList(portList) {\n * \t\t  // portList is an array of serial port names\n * \t\t  for (var i = 0; i < portList.length; i++) {\n * \t\t    // Display the list the console:\n * \t\t    println(i + \" \" + portList[i]);\n * \t\t  }\n * \t\t}\n */\np5.SerialPort.prototype.list = function(cb) {\n  if (typeof cb === 'function') {\n    this.listCallback = cb;\n  }\n  this.emit({\n    method: 'list',\n    data: {}\n  });\n\n  return this.serialportList;\n};\n\n/**\n * Opens the serial port to enable data flow.\n * Use the {[serialOptions]} parameter to set the baudrate if it's different from the p5 default, 9600.\n *\n * @method open\n * @param  {String} serialPort Name of the serial port, something like '/dev/cu.usbmodem1411'\n * @param  {Object} [serialOptions] Object with optional options as {key: value} pairs.\n *                                Options include 'baudrate'.\n * @param  {Function} [serialCallback] Callback function when open completes\n * @example\n * \t\t// Change this to the name of your arduino's serial port\n * \t\tserial.open(\"/dev/cu.usbmodem1411\");\n *\n * @example\n * \t\t// All of the following are valid:\n *\t\tserial.open(portName);\n*\t\tserial.open(portName, {}, onOpen);\n*\t\tserial.open(portName, {baudrate: 9600}, onOpen)\n*\n*\t\tfunction onOpen() {\n*\t\t  print('opened the serial port!');\n*\t\t}\n*/\np5.SerialPort.prototype.open = function(_serialport, _serialoptions, cb) {\n\n  if (typeof cb === 'function') {\n    this.openCallback = cb;\n  }\n\n  this.serialport = _serialport;\n\n  if (typeof _serialoptions === 'object') {\n    this.serialoptions = _serialoptions;\n  } else {\n    //console.log(\"typeof _serialoptions \" + typeof _serialoptions + \" setting to {}\");\n    this.serialoptions = {};\n  }\n  // If our socket is connected, we'll do this now,\n  // otherwise it will happen in the socket.onopen callback\n  this.emit({\n    method: 'openserial',\n    data: {\n      serialport: this.serialport,\n      serialoptions: this.serialoptions\n    }\n  });\n};\n\n/**\n * Sends a byte to a webSocket server which sends the same byte out through a serial port.\n * @method write\n * @param  {String, Number, Array} Data Writes bytes, chars, ints, bytes[], and strings to the serial port.\n * @example\n * You can use this with the included Arduino example called PhysicalPixel.\n * Works with P5 editor as the socket/serial server, version 0.5.5 or later.\n * Written 2 Oct 2015 by Tom Igoe. For full example: <a href=\"https://github.com/vanevery/p5.serialport/tree/master/examples/writeExample\">Link</a>\n *\n * \t\tfunction mouseReleased() {\n *\t  \t\t  serial.write(outMessage);\n*\t\t\t  if (outMessage === 'H') {\n*\t\t\t    outMessage = 'L';\n*\t\t\t  } else {\n*\t\t\t    outMessage = 'H';\n*\t\t\t  }\n*\t\t}\n*\n* For full example: <a href=\"https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/\">Link</a>\n* @example\n* \t\tfunction mouseDragged() {\n*   \t\t  // map the mouseY to a range from 0 to 255:\n*\t\t\t  outByte = int(map(mouseY, 0, height, 0, 255));\n*\t\t\t  // send it out the serial port:\n*\t\t\t  serial.write(outByte);\n*\t\t}\n*/\np5.SerialPort.prototype.write = function(data) {\n  //Writes bytes, chars, ints, bytes[], Strings to the serial port\n  var toWrite = null;\n  if (typeof data === \"number\") {\n    // This is the only one I am treating differently, the rest of the clauses are meaningless\n    toWrite = [data];\n  } else if (typeof data === \"string\") {\n    toWrite = data;\n  } else if (Array.isArray(data)) {\n    toWrite = data;\n  } else {\n    toWrite = data;\n  }\n\n  this.emit({\n    method: 'write',\n    data: toWrite\n  });\n};\n\n/**\n * Returns a number between 0 and 255 for the next byte that's waiting in the buffer.\n * Returns -1 if there is no byte, although this should be avoided by first checking available() to see if data is available.\n *\n * @method read\n * @return {Number} Value of the byte waiting in the buffer. Returns -1 if there is no byte.\n * @example\n * \t\tfunction serialEvent() {\n *   \t\tinByte = int(serial.read());\n *\t\t\tbyteCount++;\n*\t\t}\n*\n* @example\n* \t\tfunction serialEvent() {\n*\t  \t\t// read a byte from the serial port:\n*\t\t\tvar inByte = serial.read();\n*\t\t\t// store it in a global variable:\n*\t\t\tinData = inByte;\n*\t\t}\n*/\np5.SerialPort.prototype.read = function() {\n  if (this.serialBuffer.length > 0) {\n    return this.serialBuffer.shift();\n  } else {\n    return -1;\n  }\n};\n\n/**\n * Returns the next byte in the buffer as a char.\n *\n * @method readChar\n * @return {String} Value of the Unicode-code unit character byte waiting in the buffer, converted from bytes. Returns -1 or 0xffff if there is no byte.\n * @example\n * \t\tvar inData;\n *\n *\t\tfunction setup() {\n *\t\t  // callback for when new data arrives\n*\t\t  serial.on('data', serialEvent);\n*\n*\t\tfunction serialEvent() {\n*\t\t  // read a char from the serial port:\n*\t\t  inData = serial.readChar();\n*\t\t}\n*/\np5.SerialPort.prototype.readChar = function() {\n  if (this.serialBuffer.length > 0) {\n    /*var currentByte = this.serialBuffer.shift();\n    console.log(\"p5.serialport.js: \" + currentByte);\n    var currentChar = String.fromCharCode(currentByte);\n    console.log(\"p5.serialport.js: \" + currentChar);\n    return currentChar;\n    */\n    return String.fromCharCode(this.serialBuffer.shift());\n  } else {\n    return -1;\n  }\n};\n\n/**\n * Returns a number between 0 and 255 for the next byte that's waiting in the buffer, and then clears the buffer of data. Returns -1 if there is no byte, although this should be avoided by first checking available() to see if data is available.\n * @method readBytes\n * @return {Number} Value of the byte waiting in the buffer. Returns -1 if there is no byte.\n * @example\n * \t\tvar inData;\n *\n *\t\tfunction setup() {\n *\t\t  // callback for when new data arrives\n*\t\t  serial.on('data', serialEvent);\n*\n*\t\tfunction serialEvent() {\n*\t\t  // read bytes from the serial port:\n*\t\t  inData = serial.readBytes();\n*\t\t}\n*/\np5.SerialPort.prototype.readBytes = function() {\n  if (this.serialBuffer.length > 0) {\n    var returnBuffer = this.serialBuffer.slice();\n\n    // Clear the array\n    this.serialBuffer.length = 0;\n\n    return returnBuffer;\n  } else {\n    return -1;\n  }\n};\n\n/**\n * Returns all of the data available, up to and including a particular character.\n * If the character isn't in the buffer, 'null' is returned.\n * The version without the byteBuffer parameter returns a byte array of all data up to and including the interesting byte.\n * This is not efficient, but is easy to use.\n *\n * The version with the byteBuffer parameter is more efficient in terms of time and memory.\n * It grabs the data in the buffer and puts it into the byte array passed in and returns an integer value for the number of bytes read.\n * If the byte buffer is not large enough, -1 is returned and an error is printed to the message area.\n * If nothing is in the buffer, 0 is returned.\n *\n * @method readBytesUntil\n * @param {[byteBuffer]}\n * @return {[Number]} [Number of bytes read]\n * @example\n *\t\t// All of the following are valid:\n*\t\tcharToFind.charCodeAt();\n*\t\tcharToFind.charCodeAt(0);\n*\t\tcharToFind.charCodeAt(0, );\n*/\np5.SerialPort.prototype.readBytesUntil = function(charToFind) {\n  console.log(\"Looking for: \" + charToFind.charCodeAt(0));\n  var index = this.serialBuffer.indexOf(charToFind.charCodeAt(0));\n  if (index !== -1) {\n    // What to return\n    var returnBuffer = this.serialBuffer.slice(0, index + 1);\n    // Clear out what was returned\n    this.serialBuffer = this.serialBuffer.slice(index, this.serialBuffer.length + index);\n    return returnBuffer;\n  } else {\n    return -1;\n  }\n};\n\n/**\n * Returns all the data from the buffer as a String.\n * This method assumes the incoming characters are ASCII.\n * If you want to transfer Unicode data: first, convert the String to a byte stream in the representation of your choice (i.e. UTF8 or two-byte Unicode data).\n * Then, send it as a byte array.\n *\n * @method readString\n * @return\n * @example\n *\n *\n *\n *\n */\np5.SerialPort.prototype.readString = function() {\n  //var returnBuffer = this.serialBuffer;\n  var stringBuffer = [];\n  //console.log(\"serialBuffer Length: \" + this.serialBuffer.length);\n  for (var i = 0; i < this.serialBuffer.length; i++) {\n    //console.log(\"push: \" + String.fromCharCode(this.serialBuffer[i]));\n    stringBuffer.push(String.fromCharCode(this.serialBuffer[i]));\n  }\n  // Clear the buffer\n  this.serialBuffer.length = 0;\n  return stringBuffer.join(\"\");\n};\n\n/**\n * Returns all of the data available as an ASCII-encoded string.\n *\n * @method readStringUntil\n * @param {String} stringToFind String to read until.\n * @return {String} ASCII-encoded string until and not including the stringToFind.\n * @example\n *\n * For full example: <a href=\"https://github.com/tigoe/p5.serialport/blob/master/examples/twoPortRead/sketch.js\">Link</a>\n *\n * \t\t var serial1 = new p5.SerialPort();\n *\t\t var serial2 = new p5.SerialPort();\n*\t\t var input1 = '';\n*\t\t var input2 = '';\n*\n*\t\t function serialEvent(){\n*\t\t \t\tdata = serial1.readStringUntil('\\r\\n');\n*\t\t\t\tif (data.length > 0){\n*\t\t\t\tinput1 = data;\n*\t\t\t\t}\n*\t\t }\n*\n*\t\t function serial2Event() {\n*\t\t \t\tvar data = serial2.readStringUntil('\\r\\n');\n*\t\t\t\tif (data.length > 0){\n*\t\t\t\tinput2 = data;\n*\t\t\t\t}\n*\t\t }\n*/\np5.SerialPort.prototype.readStringUntil = function(stringToFind) {\n\n  var stringBuffer = [];\n  //console.log(\"serialBuffer Length: \" + this.serialBuffer.length);\n  for (var i = 0; i < this.serialBuffer.length; i++) {\n    //console.log(\"push: \" + String.fromCharCode(this.serialBuffer[i]));\n    stringBuffer.push(String.fromCharCode(this.serialBuffer[i]));\n  }\n  stringBuffer = stringBuffer.join(\"\");\n  //console.log(\"stringBuffer: \" + stringBuffer);\n\n  var returnString = \"\";\n  var foundIndex = stringBuffer.indexOf(stringToFind);\n  //console.log(\"found index: \" + foundIndex);\n  if (foundIndex > -1) {\n    returnString = stringBuffer.substr(0, foundIndex);\n    this.serialBuffer = this.serialBuffer.slice(foundIndex + stringToFind.length);\n  }\n  //console.log(\"Sending: \" + returnString);\n  return returnString;\n};\n\n\n/**\n * Returns all of the data available as an ASCII-encoded string until a line break is encountered.\n *\n * @method readLine\n * @return {String} ASCII-encoded string\n * @example\n *\n * You can use this with the included Arduino example called AnalogReadSerial.\n * Works with P5 editor as the socket/serial server, version 0.5.5 or later.\n * Written 2 Oct 2015 by Tom Igoe. For full example: <a href=\"https://github.com/vanevery/p5.serialport/tree/master/examples/readAndAnimate\">Link</a>\n *\n * \t\tfunction gotData() {\n *   \t\t  var currentString = serial.readLine();  // read the incoming data\n *\t\t\t  trim(currentString);                    // trim off trailing whitespace\n*\n*\t\t\t  if (!currentString) return; {            // if the incoming string is empty, do no more\n*\t\t\t    console.log(currentString);\n*\t\t\t    }\n*\n*\t\t\t  if (!isNaN(currentString)) {  // make sure the string is a number (i.e. NOT Not a Number (NaN))\n*\t\t\t    textXpos = currentString;   // save the currentString to use for the text position in draw()\n*\t\t\t    }\n*\t\t\t}\n*/\np5.SerialPort.prototype.readLine = function() {\n  return this.readStringUntil(\"\\r\\n\");\n};\n\n/**\n * Returns the number of bytes available.\n *\n * @method available\n * @return {Number} The length of the serial buffer array, in terms of number of bytes in the buffer.\n * @example\n *\t\tfunction draw() {\n *\t\t\t// black background, white text:\n*\t\t\tbackground(0);\n*\t\t\tfill(255);\n*\t\t\t// display the incoming serial data as a string:\n*\t\t\tvar displayString = \"inByte: \" + inByte + \"\\t Byte count: \" + byteCount;\n*\t\t\tdisplayString += \"  available: \" + serial.available();\n*\t\t\ttext(displayString, 30, 60);\n*\t\t\t}\n* */\np5.SerialPort.prototype.available = function() {\n  return this.serialBuffer.length;\n};\n\n/**\n * Returns the last byte of data from the buffer.\n *\n * @method last\n * @return {Number}\n * @example\n *\n * */\np5.SerialPort.prototype.last = function() {\n  //Returns last byte received\n  var last = this.serialBuffer.pop();\n  this.serialBuffer.length = 0;\n  return last;\n};\n\n/**\n * Returns the last byte of data from the buffer as a char.\n *\n * @method lastChar\n * @example\n *\n * */\np5.SerialPort.prototype.lastChar = function() {\n  return String.fromCharCode(this.last());\n};\n\n/**\n * Clears the underlying serial buffer.\n *\n * @method clear\n * @example\n */\np5.SerialPort.prototype.clear = function() {\n  //Empty the buffer, removes all the data stored there.\n  this.serialBuffer.length = 0;\n};\n\n/**\n * Stops data communication on this port.\n * Use to shut the connection when you're finished with the Serial.\n *\n * @method stop\n * @example\n *\n */\np5.SerialPort.prototype.stop = function() {\n};\n\n/**\n * Tell server to close the serial port. This functions the same way as serial.on('close', portClose).\n *\n * @method close\n * @param {String} name of callback\n * @example\n *\n *\t\tvar inData;\n*\n*\t\tfunction setup() {\n*\t\t  serial.open(portOpen);\n*\t\t  serial.close(portClose);\n*\t\t}\n*\n*  \tfunction portOpen() {\n*\t\t  println('The serial port is open.');\n*\t\t}\n*\n*\t\tfunction portClose() {\n*\t\t  println('The serial port closed.');\n*\t\t}\n*/\np5.SerialPort.prototype.close = function(cb) {\n  //\n  if (typeof cb === 'function') {\n    this.closeCallback = cb;\n  }\n  this.emit({\n    method: 'close',\n    data: {}\n  });\n};\n\n/**\n * Register clients that connect to the serial server.\n *\n * This is for use with the p5 Serial Control application so the application\n * can access and render the names of clients who have connected. Note that\n * calling this method does not log the list of registered clients. To do that,\n * you'd use:\n * serial.on('registerClient', logClientData)\n *\n * The example demonstates the registerClient method, as well as how you'd log\n * the list of clients.\n *\n * @method registerClient\n * @example\n *\n * function setup() {\n *   // Create a new p5 Serial Port object\n *   serial = new p5.SerialPort();\n *   // List the available ports\n *   serial.list();\n *   // On port open, call the gotOpen callback\n *   serial.on('open', gotOpen);\n *   // Register the clients that have connected to the server\n *   serial.registerClient();\n *   // After registerClient method is done, call the logClientData callback\n *   serial.on('registerClient', logClientData)\n * }\n *\n * // Callback to log the client data\n * function logClientData(data) {\n *   console.log(\"Client data: \", data)\n * }\n *\n * // Callback to log a message when the port is opened\n * function gotOpen() {\n *   console.log(\"Serial port is open.\")\n * }\n */\np5.SerialPort.prototype.registerClient = function(cb) {\n  if (typeof cb === 'function') {\n    this.registerCallback = cb;\n  }\n  this.emit({\n    method: 'registerClient',\n    data: {}\n  });\n  return this.clientData;\n};\n\n/**\n * // Register callback methods from sketch\n *\n */\np5.SerialPort.prototype.onData = function(_callback) {\n  this.on('data',_callback);\n};\n\np5.SerialPort.prototype.onOpen = function(_callback) {\n  this.on('open',_callback);\n};\n\np5.SerialPort.prototype.onClose = function(_callback) {\n  this.on('close',_callback);\n};\n\np5.SerialPort.prototype.onError = function(_callback) {\n  this.on('error',_callback);\n};\n\np5.SerialPort.prototype.onList = function(_callback) {\n  this.on('list',_callback);\n};\n\np5.SerialPort.prototype.onConnected = function(_callback) {\n  this.on('connected',_callback);\n};\n\np5.SerialPort.prototype.onRawData = function(_callback) {\n  this.on('rawdata',_callback);\n};\n\np5.SerialPort.prototype.onRegisterClient = function(_callback) {\n  this.on('registerClient', _callback);\n};\n\n// Version 2\np5.SerialPort.prototype.on = function(_event, _callback) {\n  if (_event === 'open') {\n    this.openCallback = _callback;\n  } else if (_event === 'data') {\n    this.dataCallback = _callback;\n  } else if (_event === 'close') {\n    this.closeCallback = _callback;\n  } else if (_event === 'error') {\n    this.errorCallback = _callback;\n  } else if (_event === 'list') {\n    this.listCallback = _callback;\n  } else if (_event === 'connected') {\n    this.connectedCallback = _callback;\n  } else if (_event === 'rawdata') {\n    this.rawDataCallback = _callback;\n  } else if (_event === 'registerClient') {\n    this.registerCallback = _callback;\n  }\n};\n"],"sourceRoot":""}