<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-post-tsx.837876bc98a4c1e7d7b3.css">.defaultLayout-module--header--G28ik{margin-bottom:1.45rem}.defaultLayout-module--header--G28ik>div{margin:0 auto;max-width:920px;padding:1.45rem 1.0875rem}.defaultLayout-module--header--G28ik h1{margin:0}.defaultLayout-module--header--G28ik a{background-image:none}.defaultLayout-module--header--G28ik a:hover{color:#0a3e34}.defaultLayout-module--body--3jKPt{margin:0 auto;max-width:920px;padding:0 1rem 1.5rem}.defaultLayout-module--body--3jKPt pre{padding:10px;background:rgba(252,220,158,.3);border-radius:3px}blockquote{border-left-width:5px}blockquote,p code{font-size:inherit;line-height:inherit}p code{padding:.25rem;background:rgba(252,220,158,.3);border-radius:3px}.p5Canvas-module--processingSketch--1RPUV{box-shadow:0 0 1px rgba(0,12,24,.4)}.blogPost-module--postBody--1Z6U5 iframe{display:block;margin-left:auto;margin-right:auto}</style><meta name="generator" content="Gatsby 2.0.8"/><title data-react-helmet="true">Adi Dahiya</title><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIVJREFUeNpi/P//PwMpgImBRDBQGjrBAKsUC1bRe/fuvX//HqsUI2YorV69GqJaUFAwNDQUXcd/DABUhMZABuh+AJoNNBjCVlJSArqNgB+Afj179mxYWBjEJ0Cyo6MDn5NcXFyQuWlpaWgKUDTMnDlz1apVyCJ3794F2oAswjgM0hJAgAEAatqqYsvIfaQAAAAASUVORK5CYII=" rel="icon" sizes="16x16" type="image/png"/><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAOxJREFUeNrsVsENhCAQVHMN2AIt2AItaAlSArZgC5QgJWArWoKUwE1CcjF3BpaI92IfZiXuzu6MY6ydc9WT0VQPRwEoAP8GmKZJCJFU8kp6Wmvdtq21FldiSU13slIKrX0upaQO5cjRdd1xHEgYY/Qqqgb7vqOvZ4ZzDq4ybzCOozHG59u29X1PLCQBgBnwc0lXHoogL0Y+n+AWh9koupwXeuTZYF3Xj7xfS1CkjvtgGIaAs5ZluUXRr7ypUjep8p4Dfp7n+dYGgfF9RF3dhD9tMG14Phgw8r4GwNE9SnFYJERd/osKQAGo3gIMAFwJtpmrZ1aDAAAAAElFTkSuQmCC" rel="icon" sizes="32x32" type="image/png"/><link data-react-helmet="true" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVhJREFUeNrsmOGNgzAMhUl0C7ACK7ACK7ACK7ACK8AKjAAjwAgwAoxAnxoJVS1cY5tTOMn+UdFghecvfgnCbNsW3SlsdLNQQSpIBakgFaSCggia59kY0/f9XQQ1TZPnedu2F8y1iWNZliRJ9l/hbBcQAhjgieO4KAqgCk8oTdNpmhwqXAcmhEZOnoFrQIIgKSRhQVisruv2v0CVZVkwQvMzoGAfcajGcQxje7QzGvltsCxL0apJ8ILHWZuz/W8lm+EnHhci/0vcfoZB4n/LdjseCZ8f3sU4/yTh1YFFGYbhlwS2/38YNazrCmN/7RKkYVNwG8HfEqqqqq7rr2nYMAGSOnnEa2fPTKwa1f+W9+rjmYxMsv+peEhFM/xPI4ReRpOeuf3Q/yiA9mpLdfvr2e4TVP9bqttfz3afcLaH/68nhGPcx+1C/xv9xqiCVJAKUkEq6J8LeggwAO9wSX0n2nsFAAAAAElFTkSuQmCC" rel="icon" sizes="48x48" type="image/png"/><meta data-react-helmet="true" name="description" content="Adi Dahiya&#x27;s website"/><meta data-react-helmet="true" name="keywords" content="portfolio, blog, ITP, photography, art, documentation"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:87.5%/1.5 'Fira Mono',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Fira Mono',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:0.85rem;line-height:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.9375rem;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1.1487rem;line-height:1.5rem;border-left:0.5625rem solid #1ca086;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#1ca086;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #1ca086 1px, #1ca086 2px, rgba(0, 0, 0, 0) 2px);}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.25rem;margin-bottom:0.75rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:24.65px;}blockquote{border-left:0.28125rem solid #1ca086;color:hsla(0,0%,0%,0.59);padding-left:0.84375rem;font-style:italic;margin-left:-1.125rem;margin-right:0;}}</style><link href="//fonts.googleapis.com/css?family=Work+Sans:400,600|Fira+Mono:400,400i,700,700i" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/component---src-templates-blog-post-tsx-f5eeb024bb1b58d5547e.js"/><link as="script" rel="preload" href="/app-42f18598dd41722a00ef.js"/><link as="script" rel="preload" href="/1-b57bd63608cae92cb6f6.js"/><link as="script" rel="preload" href="/0-96fcc47a429a2b30a0b6.js"/><link as="script" rel="preload" href="/webpack-runtime-9ca58dd8df141bcb73dd.js"/><link rel="preload" href="/static/d/598/path---blog-itp-code-of-music-harmony-f-6-a-c1e-yqla52fRNUObPCer6TnhEK92hio.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="defaultLayout-module--header--G28ik"><div><h1><a href="/">adi.🍕</a></h1></div></div><div class="defaultLayout-module--body--3jKPt"><h4><a href="/blog/itp">ITP blog</a> ·<!-- --> <a href="/blog/itp/code-of-music">code-of-music</a></h4><h2>Week 5 harmony</h2><p class="timestamp" style="color:gray;display:inline-block">15 October 2018</p><div class="blogPost-module--postBody--1Z6U5"><h2>Listen</h2>
<p>Delicate Steve plays beautiful slide guitar melodies on top of each other. <em>Ramona Reborn</em> builds up with the interplay of three such voices:</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/NJhxCgvac3k?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<p>Another example of harmony which crossed my mind as we listened to drone sounds in class was classical sitar. Ravi Shankar demonstrates some of the best of this genre of music:</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/gMk2eTqPLWk?rel=0&amp;start=1158" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<h2>Code</h2>
<p><a href="/projects/code-of-music/harmony-sketch">Check out my p5.js sketch for the week here</a>.</p>
<p>I started out by trying to emulate some of the slide guitar sounds in Delicate Steve's songs by using some basic pitch bending. I created a <code>PolySynth</code> and applied <code>rampTo</code> on each of the voices' frequencies right after triggering the attack stage of the envelope (notes are released when keys are released).</p>
<p>I noticed that if I played notes quickly in succession, the pitch would start to increase past the bounds that I had initially programmed. <code>rampTo</code> was being called in quick succession to transpose the notes up the scale. Although this effect was an artifact of my initial naive implementation, I decided to run with the idea to compose some harmonies.</p>
<p>I added a drone synth based off the <a href="https://editor.p5js.org/luisa/sketches/H1p3B-6cm">drone_event</a> sample sketch. Mine uses an FM sine oscillator with triangle modulation. It plays a constant C2 note on every measure, except when there are multiple keys pressed -- then, it changes pitch to match the current (potentially ramped) frequency of the first voice in the <code>PolySynth</code>. This creates some interesting harmonies and disharmonies.</p>
<p>There are a lot of parameters to tweak here... I'd like to see how the sketch sounds with the drone playing every 2 beats instead of every measure (so that it's easier to line up with notes the user is playing). I could also "quantize" the drone pitches so that it never gets caught on a dissonant frequency between notes (or even on notes that are not harmonic with the current scale) while <code>rampTo</code> is active.</p>
<iframe src="https://player.vimeo.com/video/295222625" width="640" height="323" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-126153749-1"></script></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-tsx","jsonName":"blog-itp-code-of-music-harmony-f6a","path":"/blog/itp/code-of-music/harmony/"};window.dataPath="598/path---blog-itp-code-of-music-harmony-f-6-a-c1e-yqla52fRNUObPCer6TnhEK92hio";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-42f18598dd41722a00ef.js"],"component---src-templates-blog-category-index-tsx":["/component---src-templates-blog-category-index-tsx.ccd0577b1fb99c65d793.css","/component---src-templates-blog-category-index-tsx-c8cca29fd83c25b4a523.js"],"component---src-templates-default-markdown-template-tsx":["/component---src-templates-default-markdown-template-tsx.8ee28b85e7758ea91d97.css","/component---src-templates-default-markdown-template-tsx-2c862c60f3aa914b04f9.js"],"component---src-templates-blog-post-tsx":["/component---src-templates-blog-post-tsx.837876bc98a4c1e7d7b3.css","/component---src-templates-blog-post-tsx-f5eeb024bb1b58d5547e.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx.f92d04ea4598c1f78b85.css","/component---src-pages-404-tsx-14bcc75ea2f0dac333dd.js"],"component---src-pages-blog-itp-index-tsx":["/component---src-pages-blog-itp-index-tsx.ccd0577b1fb99c65d793.css","/component---src-pages-blog-itp-index-tsx-e78e3f9b5aa6f690a02a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx.f92d04ea4598c1f78b85.css","/component---src-pages-index-tsx-b20fe779aec6b66129a1.js"],"component---src-pages-photos-tsx":["/component---src-pages-photos-tsx.b2307d88ae2e2aa9ed72.css","/component---src-pages-photos-tsx-e1cfcee4e4c6099644d4.js"],"component---src-pages-projects-code-of-music-harmony-sketch-tsx":["/component---src-pages-projects-code-of-music-harmony-sketch-tsx.ccd0577b1fb99c65d793.css","/component---src-pages-projects-code-of-music-harmony-sketch-tsx-8729d82db6f0ba8a39dc.js"],"component---src-pages-projects-code-of-music-melody-sketch-tsx":["/component---src-pages-projects-code-of-music-melody-sketch-tsx.ccd0577b1fb99c65d793.css","/component---src-pages-projects-code-of-music-melody-sketch-tsx-3fbc8fe78b6a7ab6691f.js"],"component---src-pages-projects-code-of-music-rhythm-sketch-tsx":["/component---src-pages-projects-code-of-music-rhythm-sketch-tsx.ccd0577b1fb99c65d793.css","/component---src-pages-projects-code-of-music-rhythm-sketch-tsx-be32c759bbb8df36cabf.js"],"component---src-pages-projects-code-of-music-simple-drum-machine-tsx":["/component---src-pages-projects-code-of-music-simple-drum-machine-tsx.ccd0577b1fb99c65d793.css","/component---src-pages-projects-code-of-music-simple-drum-machine-tsx-466bac8532cbe627dd97.js"]};/*]]>*/</script><script src="/webpack-runtime-9ca58dd8df141bcb73dd.js" async=""></script><script src="/0-96fcc47a429a2b30a0b6.js" async=""></script><script src="/1-b57bd63608cae92cb6f6.js" async=""></script><script src="/app-42f18598dd41722a00ef.js" async=""></script><script src="/component---src-templates-blog-post-tsx-f5eeb024bb1b58d5547e.js" async=""></script></body></html>